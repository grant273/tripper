(this.webpackJsonptripper=this.webpackJsonptripper||[]).push([[0],{80:function(e,t,n){e.exports=n(91)},85:function(e,t,n){},86:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),i=n.n(o),s=(n(85),n(29)),l=n(53),c=n(14),u=n(31),d=n(32),p=n(35),m=n(36),h=(n(86),n(131)),f=n(128),g=n(48),b=n.n(g),v=n(67),E=n.n(v),S=n(68),O=n.n(S),y=n(130),N=n(65),C=n.n(N),w=n(129),j=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onUpgradeStatus=function(t){var n;switch(e.props.status){case"notNeeded":n="needed";break;case"needed":n="thisTrip";break;default:throw new Error("Cannot upgrade status of item")}e.props.onChangeStatus&&e.props.onChangeStatus(t,e.props.item,e.props.status,n)},e.onDowngradeStatus=function(t){var n;switch(e.props.status){case"thisTrip":n="needed";break;case"needed":n="notNeeded";break;case"notNeeded":n="deleted";break;default:throw new Error("Cannot downgrade status of item")}e.props.onChangeStatus&&e.props.onChangeStatus(t,e.props.item,e.props.status,n)},e.onSetNotNeeded=function(t){e.props.onChangeStatus&&e.props.onChangeStatus(t,e.props.item,e.props.status,"notNeeded")},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.item.bundle?"(".concat(this.props.item.bundle,")"):void 0,n=this.props.item.items?r.a.createElement(C.a,null):void 0,a=r.a.createElement(f.a,null,r.a.createElement(b.a,{fontSize:"large",onClick:this.onUpgradeStatus})),o=r.a.createElement(f.a,null,r.a.createElement(E.a,{onClick:this.onSetNotNeeded})),i=r.a.createElement(w.a,{onClick:this.onDowngradeStatus},r.a.createElement(y.a,{edge:"end","aria-label":"comments"},r.a.createElement(O.a,null))),s=["needed","thisTrip"].includes(this.props.status)||!this.props.item.bundle;return r.a.createElement(h.a,{onClick:function(t){"notNeeded"===e.props.status&&e.onUpgradeStatus(t)}},["notNeeded","needed"].includes(this.props.status)&&a,["needed","thisTrip"].includes(this.props.status)&&o,this.props.item.title," ",t," ",n,s&&i)}}]),n}(a.Component),k=n(136),B=n(143),A=n(133),I=n(134),R=n(140),T=n(138),D=n(139),M=n(135),x=n(144),J=n(137),U=n(141),W=n(145),z=n(69),q=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onChangeSubItem=function(e,t){0===a.state.items.length?a.setState({items:[{title:e.target.value}]}):t===a.state.items.length?a.setState({items:[].concat(Object(c.a)(a.state.items),[{title:e.target.value}])}):a.setState({items:a.state.items.map((function(n,a){return t===a?{title:e.target.value}:n}))})},a.onSubmit=function(e){e.preventDefault();var t=Object.assign({},a.state);a.setState({title:""}),"grocery"===t.type?delete t.items:t.items=t.items.filter((function(e){return e.title})),delete t.type,a.setState({title:"",items:[]}),a.props.onAdd(e,t),a.setState({popOverAnchorEl:a.addBtnRef.current},(function(){setTimeout((function(){return a.setState({popOverAnchorEl:null})}),500),a.titleRef.current.focus()}))},a.state={type:"grocery",title:"",items:[]},a.titleRef=r.a.createRef(),a.addBtnRef=r.a.createRef(),a}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(B.a,{open:this.props.open,onClose:this.props.onClose,"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(A.a,{id:"form-dialog-title"},"Add a New Item"),r.a.createElement(I.a,null,r.a.createElement(R.a,{required:!0,inputRef:this.titleRef,margin:"dense",id:"name",value:this.state.title,onChange:function(t){e.setState({title:t.target.value})},label:"Item Name",type:"text",fullWidth:!0}),r.a.createElement(M.a,null,r.a.createElement(x.a,{row:!0,"aria-label":"position",name:"position",onChange:function(t){return e.setState({type:t.target.value})},defaultValue:"grocery"},r.a.createElement(J.a,{value:"grocery",control:r.a.createElement(U.a,{color:"primary"}),label:"Grocery"}),r.a.createElement(J.a,{value:"bundle",control:r.a.createElement(U.a,{color:"primary"}),label:"Bundle"}))),"bundle"===this.state.type&&[].concat(Object(c.a)(this.state.items),[{title:""}]).map((function(t,n){return r.a.createElement(R.a,{key:n,required:0===n,margin:"dense",id:"name",value:t.title,onChange:function(t){return e.onChangeSubItem(t,n)},label:0===n?"First Bundle Item":"Next Item (optional)",fullWidth:!0})}))),r.a.createElement(T.a,null,r.a.createElement(D.a,{onClick:this.props.onClose,color:"primary"},"Done"),r.a.createElement(D.a,{ref:this.addBtnRef,type:"submit",color:"primary"},"Add"),r.a.createElement(W.a,{open:Boolean(this.state.popOverAnchorEl),anchorEl:this.state.popOverAnchorEl,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"right"}},r.a.createElement(z.a,{className:"addItemPopover"},"Added! Click Done when finished")))))}}]),n}(a.Component);function F(e){return{notNeeded:0,needed:1,thisTrip:2}[e]}var G=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).changeStatus=function(e,t,n,r){if("deleted"!==r)if("items"in t){var o;a.setState((o={},Object(s.a)(o,n,a.state[n].filter((function(e){return e!==t}))),Object(s.a)(o,r,[].concat(Object(c.a)(a.state[r]),Object(c.a)(t.items.map((function(e){return Object(l.a)({},e,{bundle:t.title})}))))),Object(s.a)(o,"activeBundles",[].concat(Object(c.a)(a.state.activeBundles),[{title:t.title,length:t.items.length}])),o))}else{var i=Object(l.a)({},a.state,Object(s.a)({},n,a.state[n].filter((function(e){return e!==t}))));if(F(r)<F(n)?i[r]=[t].concat(Object(c.a)(a.state[r])):i[r]=[].concat(Object(c.a)(a.state[r]),[t]),"notNeeded"===r&&"bundle"in t){var u=a.state.activeBundles.find((function(e){return e.title===t.bundle}));if(i.notNeeded.filter((function(e){return e.bundle===u.title})).length===u.length){var d=i.notNeeded.filter((function(e){return e.bundle===u.title})),p={title:u.title,items:d};i=Object(l.a)({},i,{activeBundles:i.activeBundles.filter((function(e){return e!==u})),notNeeded:[p].concat(Object(c.a)(i.notNeeded.filter((function(e){return e.bundle!==u.title}))))})}}"notNeeded"===r&&i[r].sort((function(e,t){return e.title>t.title?1:-1})),console.log(i[r]),a.setState(i)}else window.confirm("Are you sure you want to permanently delete ".concat(t.title))&&a.setState({notNeeded:a.state.notNeeded.filter((function(e){return e!==t}))})},a.onAdd=function(e,t){a.setState({notNeeded:[].concat(Object(c.a)(a.state.notNeeded),[t])})},a.showInputModal=function(e){a.setState({showAddModal:!0})},a.state=JSON.parse(localStorage.getItem("appState")),null==a.state&&(a.state={showAddModal:!1,notNeeded:[{id:11,title:"Buffalo Dip",items:[{id:1,title:"Cream Cheese Block 2x"},{id:2,title:"Franks Red Hot"},{id:3,title:"Ranch"}]},{id:5,title:"Bagels"}],needed:[{id:4,title:"Ground Beef"}],activeBundles:[],thisTrip:[]}),a}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){localStorage.setItem("appState",JSON.stringify(this.state))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(q,{open:this.state.showAddModal,onClose:function(){e.setState({showAddModal:!1})},onAdd:this.onAdd}),r.a.createElement("h1",null,"This Trip"),r.a.createElement(k.a,null,this.state.thisTrip.map((function(t){return r.a.createElement(j,{key:t.id,item:t,status:"thisTrip",onChangeStatus:e.changeStatus})}))),r.a.createElement("h1",null,"Needed"),r.a.createElement(k.a,null,this.state.needed.map((function(t){return r.a.createElement(j,{key:t.id,item:t,status:"needed",onChangeStatus:e.changeStatus})}))),r.a.createElement("h1",{className:"category-header"},"Not Needed",r.a.createElement(b.a,{onClick:this.showInputModal})),r.a.createElement(k.a,null,this.state.notNeeded.map((function(t){return r.a.createElement(j,{key:t.id,item:t,status:"notNeeded",onChangeStatus:e.changeStatus})}))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[80,1,2]]]);
//# sourceMappingURL=main.e3d33c4d.chunk.js.map