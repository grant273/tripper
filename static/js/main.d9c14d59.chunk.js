(this.webpackJsonptripper=this.webpackJsonptripper||[]).push([[0],{87:function(e,t,a){e.exports=a(98)},92:function(e,t,a){},93:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(9),o=a.n(r),l=(a(92),a(53)),s=a(14),c=a(24),u=a(33),d=a(34),m=a(37),p=a(38),h=(a(93),a(99)),f=a(134),g=a(48),E=a.n(g),b=a(69),v=a.n(b),S=a(71),N=a.n(S),O=a(136),C=a(67),y=a.n(C),k=a(55),w=a.n(k),j=a(70),T=a.n(j),B=a(135),I=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onUpgradeStatus=function(e){var t;switch(n.props.status){case"notNeeded":t="needed";break;case"needed":t="thisTrip";break;default:throw new Error("Cannot upgrade status of item")}n.props.onChangeStatus&&n.props.onChangeStatus(e,n.props.item,n.props.status,t)},n.onDowngradeStatus=function(e){var t;switch(n.props.status){case"thisTrip":t="needed";break;case"needed":t="notNeeded";break;case"notNeeded":t="deleted";break;default:throw new Error("Cannot downgrade status of item")}n.props.onChangeStatus&&n.props.onChangeStatus(e,n.props.item,n.props.status,t)},n.editModeOn=function(e){n.setState({editing:!0})},n.onSetNotNeeded=function(e){n.props.onChangeStatus&&n.props.onChangeStatus(e,n.props.item,n.props.status,"notNeeded")},n.onTitleEdited=function(e){n.setState({editing:!1}),n.props.onChangeItemTitle&&n.props.onChangeItemTitle(e,n.props.item,n.props.status,e.target.value)},n.state={editing:!1},n}return Object(d.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props.item.bundle?"".concat(this.props.item.bundle):void 0,n=this.props.item.items?i.a.createElement(y.a,null):void 0,r=i.a.createElement(f.a,null,i.a.createElement(E.a,{fontSize:"large",onClick:this.onUpgradeStatus})),o=["needed","thisTrip"].includes(this.props.status)||!this.props.item.bundle,l=i.a.createElement(f.a,{role:"checkbox","aria-checked":"false",onClick:this.onSetNotNeeded},i.a.createElement(v.a,null)),s=i.a.createElement(B.a,null,this.state.editing?i.a.createElement(O.a,{edge:"end","aria-label":"comments",onClick:function(){}},i.a.createElement(T.a,null)):i.a.createElement(O.a,{edge:"end","aria-label":"comments",onClick:this.editModeOn},i.a.createElement(w.a,null)),o&&i.a.createElement(O.a,{edge:"end","aria-label":"comments",onClick:this.onDowngradeStatus},i.a.createElement(N.a,null)));B.a,this.editModeOn,O.a,w.a;return e=this.state.editing?i.a.createElement("input",{type:"text",defaultValue:this.props.item.title,onBlur:this.onTitleEdited,autoFocus:!0}):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"tripper-list-item-title"},this.props.item.title," ",n),a&&i.a.createElement("div",{className:"tripper-list-item-subtitle"},"- In\xa0",i.a.createElement("span",{className:"tripper-list-item-subtitle-bundle-name"},a))),i.a.createElement(h.a,{disableGutters:!0,onMouseDown:function(e){"notNeeded"!==t.props.status||t.state.editing||t.onUpgradeStatus(e)}},["notNeeded","needed"].includes(this.props.status)&&r,["needed","thisTrip"].includes(this.props.status)&&l,i.a.createElement("div",{className:"tripper-list-item-content"},e),s)}}]),a}(n.Component),D=a(141),A=a(149),M=a(138),R=a(139),x=a(146),J=a(143),F=a(144),G=a(140),U=a(151),W=a(142),z=a(148),V=a(150),q=a(74),H=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onChangeSubItem=function(e,t){0===n.state.items.length?n.setState({items:[{title:e.target.value}]}):t===n.state.items.length?n.setState({items:[].concat(Object(s.a)(n.state.items),[{title:e.target.value}])}):n.setState({items:n.state.items.map((function(a,n){return t===n?{title:e.target.value}:a}))})},n.onSubmit=function(e){e.preventDefault();var t=Object.assign({},n.state);n.setState({title:""}),"grocery"===t.type?delete t.items:t.items=t.items.filter((function(e){return e.title})),delete t.type,n.setState({title:"",items:[]}),n.props.onAdd(e,t),n.setState({popOverAnchorEl:n.addBtnRef.current},(function(){setTimeout((function(){return n.setState({popOverAnchorEl:null})}),500),n.titleRef.current.focus()}))},n.state={type:"grocery",title:"",items:[]},n.titleRef=i.a.createRef(),n.addBtnRef=i.a.createRef(),n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement(A.a,{open:this.props.open,onClose:this.props.onClose,"aria-labelledby":"form-dialog-title"},i.a.createElement("form",{onSubmit:this.onSubmit},i.a.createElement(M.a,{id:"form-dialog-title"},"Add a New Item"),i.a.createElement(R.a,null,i.a.createElement(x.a,{required:!0,inputRef:this.titleRef,margin:"dense",id:"name",value:this.state.title,onChange:function(t){e.setState({title:t.target.value})},label:"Item Name",type:"text",fullWidth:!0}),i.a.createElement(G.a,null,i.a.createElement(U.a,{row:!0,"aria-label":"position",name:"position",onChange:function(t){return e.setState({type:t.target.value})},defaultValue:"grocery"},i.a.createElement(W.a,{value:"grocery",control:i.a.createElement(z.a,{color:"primary"}),label:"Grocery"}),i.a.createElement(W.a,{value:"bundle",control:i.a.createElement(z.a,{color:"primary"}),label:"Bundle"}))),"bundle"===this.state.type&&[].concat(Object(s.a)(this.state.items),[{title:""}]).map((function(t,a){return i.a.createElement(x.a,{key:a,required:0===a,margin:"dense",id:"name",value:t.title,onChange:function(t){return e.onChangeSubItem(t,a)},label:0===a?"First Bundle Item":"Next Item (optional)",fullWidth:!0})}))),i.a.createElement(J.a,null,i.a.createElement(F.a,{onClick:this.props.onClose,color:"primary"},"Done"),i.a.createElement(F.a,{ref:this.addBtnRef,type:"submit",color:"primary"},"Add"),i.a.createElement(V.a,{open:Boolean(this.state.popOverAnchorEl),anchorEl:this.state.popOverAnchorEl,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"right"}},i.a.createElement(q.a,{className:"addItemPopover"},"Added! Click Done when finished")))))}}]),a}(n.Component);function P(e){return{notNeeded:0,needed:1,thisTrip:2}[e]}var $=a(73),K=a(145),L=a(72),Q=a.n(L),X=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).changeItemTitle=function(e,t,a,i){var r=n.state[a].map((function(e){return e===t?(e.title=i,e):e}));n.setState(Object(c.a)({},a,r))},n.changeStatus=function(e,t,a,i){if("deleted"!==i)if("items"in t){var r;n.setState((r={},Object(c.a)(r,a,n.state[a].filter((function(e){return e!==t}))),Object(c.a)(r,i,[].concat(Object(s.a)(n.state[i]),Object(s.a)(t.items.map((function(e){return Object(l.a)({},e,{bundle:t.title})}))))),Object(c.a)(r,"activeBundles",[].concat(Object(s.a)(n.state.activeBundles),[{title:t.title,length:t.items.length}])),r))}else{var o=Object(l.a)({},n.state,Object(c.a)({},a,n.state[a].filter((function(e){return e!==t}))));if(P(i)<P(a)?o[i]=[t].concat(Object(s.a)(n.state[i])):o[i]=[].concat(Object(s.a)(n.state[i]),[t]),"notNeeded"===i&&"bundle"in t){var u=n.state.activeBundles.find((function(e){return e.title===t.bundle}));if(o.notNeeded.filter((function(e){return e.bundle===u.title})).length===u.length){var d=o.notNeeded.filter((function(e){return e.bundle===u.title})),m={title:u.title,items:d};o=Object(l.a)({},o,{activeBundles:o.activeBundles.filter((function(e){return e!==u})),notNeeded:[m].concat(Object(s.a)(o.notNeeded.filter((function(e){return e.bundle!==u.title}))))})}}"notNeeded"===i&&o[i].sort((function(e,t){return e.title>t.title?1:-1})),n.setState(o)}else window.confirm("Are you sure you want to permanently delete ".concat(t.title))&&n.setState({notNeeded:n.state.notNeeded.filter((function(e){return e!==t}))})},n.onAdd=function(e,t){n.setState({notNeeded:[].concat(Object(s.a)(n.state.notNeeded),[t])})},n.showInputModal=function(e){n.setState({showAddModal:!0})},n.getShoppingData=function(){var e={};return["thisTrip","needed","notNeeded","activeBundles"].forEach((function(t){e[t]=n.state[t]})),e},n.setShoppingData=function(e){var t={};["thisTrip","needed","notNeeded","activeBundles"].forEach((function(a){t[a]=e[a]||[]})),n.setState(t)},n.state=JSON.parse(localStorage.getItem("appState")),null==n.state&&(n.state={showAddModal:!1,menuElem:null,notNeeded:[{title:"Buffalo Dip",items:[{title:"Cream Cheese Block 2x"},{title:"Franks Red Hot"},{title:"Ranch"}]},{title:"Bagels"}],needed:[{title:"Ground Beef"}],activeBundles:[],thisTrip:[]}),["thisTrip","needed","notNeeded","activeBundles"].forEach((function(e){n.state[e]||(n.state[e]=[])})),n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){localStorage.setItem("appState",JSON.stringify(this.getShoppingData()))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(H,{open:this.state.showAddModal,onClose:function(){e.setState({showAddModal:!1})},onAdd:this.onAdd}),this.state.editDataMode&&i.a.createElement("div",null,i.a.createElement("textarea",{style:{width:"100%",height:"600px"},defaultValue:JSON.stringify(this.getShoppingData(),null,2),onBlur:function(t){e.setShoppingData(JSON.parse(t.target.value)),e.setState({editDataMode:!1})}})),i.a.createElement("div",{style:{display:"flex",alignItem:"center"}},i.a.createElement("h1",{style:{flexGrow:1}},"This Trip"),i.a.createElement("div",null,i.a.createElement(O.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(t){return e.setState({menuElem:t.currentTarget})}},i.a.createElement(Q.a,null)),i.a.createElement($.a,{id:"simple-menu",anchorEl:this.state.menuElem,keepMounted:!0,open:Boolean(this.state.menuElem),onClose:function(){return e.setState({menuElem:null})}},i.a.createElement(K.a,{onClick:function(t){e.setState({editDataMode:!e.state.editDataMode})}},"Edit Data")))),i.a.createElement(D.a,{className:"ul-this-trip"},this.state.thisTrip.map((function(t){return i.a.createElement(I,{key:t.title+t.bundle,item:t,status:"thisTrip",onChangeStatus:e.changeStatus,onChangeItemTitle:e.changeItemTitle})}))),i.a.createElement("h1",null,"Needed"),i.a.createElement(D.a,{className:"ul-needed"},this.state.needed.map((function(t){return i.a.createElement(I,{key:t.title+t.bundle,item:t,status:"needed",onChangeStatus:e.changeStatus,onChangeItemTitle:e.changeItemTitle})}))),i.a.createElement("h1",{className:"category-header"},"Not Needed.",i.a.createElement(E.a,{onClick:this.showInputModal,className:"add-btn",role:"button"})),i.a.createElement(D.a,{className:"ul-not-needed"},this.state.notNeeded.map((function(t){return i.a.createElement(I,{key:t.title+t.bundle,item:t,status:"notNeeded",onChangeStatus:e.changeStatus,onChangeItemTitle:e.changeItemTitle})}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[87,1,2]]]);
//# sourceMappingURL=main.d9c14d59.chunk.js.map