(this.webpackJsonptripper=this.webpackJsonptripper||[]).push([[0],{80:function(e,t,a){e.exports=a(91)},85:function(e,t,a){},86:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),s=(a(85),a(29)),l=a(53),c=a(14),u=a(31),d=a(32),p=a(35),m=a(36),h=(a(86),a(131)),f=a(128),b=a(48),g=a.n(b),v=a(67),E=a.n(v),S=a(68),O=a.n(S),y=a(130),N=a(65),C=a.n(N),w=a(129),j=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onUpgradeStatus=function(t){var a;switch(e.props.status){case"notNeeded":a="needed";break;case"needed":a="thisTrip";break;default:throw new Error("Cannot upgrade status of item")}e.props.onChangeStatus&&e.props.onChangeStatus(t,e.props.item,e.props.status,a)},e.onDowngradeStatus=function(t){var a;switch(e.props.status){case"thisTrip":a="needed";break;case"needed":a="notNeeded";break;case"notNeeded":a="deleted";break;default:throw new Error("Cannot downgrade status of item")}e.props.onChangeStatus&&e.props.onChangeStatus(t,e.props.item,e.props.status,a)},e.onSetNotNeeded=function(t){e.props.onChangeStatus&&e.props.onChangeStatus(t,e.props.item,e.props.status,"notNeeded")},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.item.bundle?"(".concat(this.props.item.bundle,")"):void 0,a=this.props.item.items?r.a.createElement(C.a,null):void 0,n=r.a.createElement(f.a,null,r.a.createElement(g.a,{fontSize:"large",onClick:this.onUpgradeStatus})),o=r.a.createElement(f.a,null,r.a.createElement(E.a,{onClick:this.onSetNotNeeded})),i=r.a.createElement(w.a,{onClick:this.onDowngradeStatus},r.a.createElement(y.a,{edge:"end","aria-label":"comments"},r.a.createElement(O.a,null))),s=["needed","thisTrip"].includes(this.props.status)||!this.props.item.bundle;return r.a.createElement(h.a,{onClick:function(t){"notNeeded"===e.props.status&&e.onUpgradeStatus(t)}},["notNeeded","needed"].includes(this.props.status)&&n,["needed","thisTrip"].includes(this.props.status)&&o,this.props.item.title," ",t," ",a,s&&i)}}]),a}(n.Component),k=a(136),B=a(143),A=a(133),I=a(134),R=a(140),T=a(138),D=a(139),M=a(135),x=a(144),J=a(137),U=a(141),W=a(145),z=a(69),q=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onChangeSubItem=function(e,t){0===n.state.items.length?n.setState({items:[{title:e.target.value}]}):t===n.state.items.length?n.setState({items:[].concat(Object(c.a)(n.state.items),[{title:e.target.value}])}):n.setState({items:n.state.items.map((function(a,n){return t===n?{title:e.target.value}:a}))})},n.onSubmit=function(e){e.preventDefault();var t=Object.assign({},n.state);n.setState({title:""}),"grocery"===t.type?delete t.items:t.items=t.items.filter((function(e){return e.title})),delete t.type,n.setState({title:"",items:[]}),n.props.onAdd(e,t),n.setState({popOverAnchorEl:n.addBtnRef.current},(function(){setTimeout((function(){return n.setState({popOverAnchorEl:null})}),500),n.titleRef.current.focus()}))},n.state={type:"grocery",title:"",items:[]},n.titleRef=r.a.createRef(),n.addBtnRef=r.a.createRef(),n}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(B.a,{open:this.props.open,onClose:this.props.onClose,"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(A.a,{id:"form-dialog-title"},"Add a New Item"),r.a.createElement(I.a,null,r.a.createElement(R.a,{required:!0,inputRef:this.titleRef,margin:"dense",id:"name",value:this.state.title,onChange:function(t){e.setState({title:t.target.value})},label:"Item Name",type:"text",fullWidth:!0}),r.a.createElement(M.a,null,r.a.createElement(x.a,{row:!0,"aria-label":"position",name:"position",onChange:function(t){return e.setState({type:t.target.value})},defaultValue:"grocery"},r.a.createElement(J.a,{value:"grocery",control:r.a.createElement(U.a,{color:"primary"}),label:"Grocery"}),r.a.createElement(J.a,{value:"bundle",control:r.a.createElement(U.a,{color:"primary"}),label:"Bundle"}))),"bundle"===this.state.type&&[].concat(Object(c.a)(this.state.items),[{title:""}]).map((function(t,a){return r.a.createElement(R.a,{key:a,required:0===a,margin:"dense",id:"name",value:t.title,onChange:function(t){return e.onChangeSubItem(t,a)},label:0===a?"First Bundle Item":"Next Item (optional)",fullWidth:!0})}))),r.a.createElement(T.a,null,r.a.createElement(D.a,{onClick:this.props.onClose,color:"primary"},"Done"),r.a.createElement(D.a,{ref:this.addBtnRef,type:"submit",color:"primary"},"Add"),r.a.createElement(W.a,{open:Boolean(this.state.popOverAnchorEl),anchorEl:this.state.popOverAnchorEl,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"right"}},r.a.createElement(z.a,{className:"addItemPopover"},"Added! Click Done when finished")))))}}]),a}(n.Component);function F(e){return{notNeeded:0,needed:1,thisTrip:2}[e]}var G=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).changeStatus=function(e,t,a,r){if("deleted"!==r)if("items"in t){var o;n.setState((o={},Object(s.a)(o,a,n.state[a].filter((function(e){return e!==t}))),Object(s.a)(o,r,[].concat(Object(c.a)(n.state[r]),Object(c.a)(t.items.map((function(e){return Object(l.a)({},e,{bundle:t.title})}))))),Object(s.a)(o,"activeBundles",[].concat(Object(c.a)(n.state.activeBundles),[{title:t.title,length:t.items.length}])),o))}else{var i=Object(l.a)({},n.state,Object(s.a)({},a,n.state[a].filter((function(e){return e!==t}))));if(F(r)<F(a)?i[r]=[t].concat(Object(c.a)(n.state[r])):i[r]=[].concat(Object(c.a)(n.state[r]),[t]),"notNeeded"===r&&"bundle"in t){var u=n.state.activeBundles.find((function(e){return e.title===t.bundle}));if(i.notNeeded.filter((function(e){return e.bundle===u.title})).length===u.length){var d=i.notNeeded.filter((function(e){return e.bundle===u.title})),p={title:u.title,items:d};i=Object(l.a)({},i,{activeBundles:i.activeBundles.filter((function(e){return e!==u})),notNeeded:[p].concat(Object(c.a)(i.notNeeded.filter((function(e){return e.bundle!==u.title}))))})}}n.setState(i)}else window.confirm("Are you sure you want to permanently delete ".concat(t.title))&&n.setState({notNeeded:n.state.notNeeded.filter((function(e){return e!==t}))})},n.onAdd=function(e,t){n.setState({notNeeded:[].concat(Object(c.a)(n.state.notNeeded),[t])})},n.showInputModal=function(e){n.setState({showAddModal:!0})},n.state=JSON.parse(localStorage.getItem("appState")),null==n.state&&(n.state={showAddModal:!1,notNeeded:[{id:11,title:"Buffalo Dip",items:[{id:1,title:"Cream Cheese Block 2x"},{id:2,title:"Franks Red Hot"},{id:3,title:"Ranch"}]},{id:5,title:"Bagels"}],needed:[{id:4,title:"Ground Beef"}],activeBundles:[],thisTrip:[]}),n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){localStorage.setItem("appState",JSON.stringify(this.state))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(q,{open:this.state.showAddModal,onClose:function(){e.setState({showAddModal:!1})},onAdd:this.onAdd}),r.a.createElement("h1",null,"This Trip"),r.a.createElement(k.a,null,this.state.thisTrip.map((function(t){return r.a.createElement(j,{key:t.id,item:t,status:"thisTrip",onChangeStatus:e.changeStatus})}))),r.a.createElement("h1",null,"Needed"),r.a.createElement(k.a,null,this.state.needed.map((function(t){return r.a.createElement(j,{key:t.id,item:t,status:"needed",onChangeStatus:e.changeStatus})}))),r.a.createElement("h1",{className:"category-header"},"Not Needed",r.a.createElement(g.a,{onClick:this.showInputModal})),r.a.createElement(k.a,null,this.state.notNeeded.map((function(t){return r.a.createElement(j,{key:t.id,item:t,status:"notNeeded",onChangeStatus:e.changeStatus})}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[80,1,2]]]);
//# sourceMappingURL=main.a3872ef0.chunk.js.map